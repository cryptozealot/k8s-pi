---
controller:
  image:
    repository: {{ nginx.image.split(":")[0] }}
    tag: "{{ nginx.image.split(":")[1] }}"
  service:
    type: LoadBalancer
    loadBalancerIP: {{ ingress.static_ip }}
    externalIPs: # used to access Unifi UI prior to MetalLB setup
      - {{ansible_default_ipv4.address}}
    annotations:
      metallb.universe.tf/allow-shared-ip: ingress-shared
      port-forwarding.lylefranklin.com/enable: "true"
  extraArgs:
    default-ssl-certificate: kube-system/default-backend-cert-secret
defaultBackend:
  image:
    repository: {{ nginx.backend_image.split(":")[0] }}
    tag: "{{ nginx.backend_image.split(":")[1] }}"
